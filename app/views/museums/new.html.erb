<div class="page-title row">
  <h3 class="mr-3">
    <i class="fas fa-landmark"> 博物館新規登録</i>
  </h3>
</div>

<div>
  <%= render "layouts/error_messages", resource: @museum %>
</div>

<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-10">
    <%= form_with model:@museum, local:true do |f| %>
      <table class="table table-borderless">
        <tr>
          <th>
            <%= f.label :appearance_image, '外観イメージ' %>
          </th>
          <td>
            <%= f.attachment_field :appearance_image %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :name, '博物館名' %>
          </th>
          <td>
            <%= f.text_field :name %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :genre_id, 'ジャンル' %>
          </th>
          <td>
            <%= f.collection_select :genre_id, Genre.all, :id, :name, include_blank: "--選択してください--" %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :'住所' %>
          </th>
          <td>
            <%= f.select :prefecture, Museum.prefectures.keys %>
            <%= f.text_field :address, size:"50", placeholder:'伊東市富戸梅木平1310-1' %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :'営業時間' %>
          </th>
          <td>
            <%= f.time_field :opening_time %> ～ <%= f.time_field :closing_time %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :regular_holiday, '定休日' %>
          </th>
          <td>
            <% @regular_holidays.each do |r| %>
              <%= f.check_box :regular_holiday, {multiple: true}, r, nil %>
              <%= f.label :regular_holiday, r %>&nbsp;
            <% end %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :entrance_fee, '入場料' %>
          </th>
          <td>
            <%= f.text_field :entrance_fee, size:"10" %> 円
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :shop, 'ショップ' %>
          </th>
          <td>
            <%= f.radio_button :shop, true %>
            <%= f.label :shop, 'あり', value: true %>
            <%= f.radio_button :shop, false %>
            <%= f.label :shop, 'なし', value: false %>
          </td>
        </tr>
        <tr>
          <th>
            <%= f.label :url, '公式HP' %>
          </th>
          <td>
            <%= f.text_field :url, size:"30", placeholder:'URLを入力してください' %>
          </td>
        </tr>
        <tr align="center">
          <th colspan="2">
            <%= f.submit '登録する！', class:"btn btn-success" %>
          </th>
          <td></td>
        </tr>
      </table>
    <% end %>
  </div>
  <div class="col-md-1">
    <!--<input id="address" type="textbox" placeholder="住所を入力">-->
    <!--<input type="button" value="探す" onclick="codeAddress()"><br/>-->

    <!--<div id='map'></div>-->

    <!--<style>-->
    <!--#map {-->
    <!--  height: 100px;-->
    <!--  width: 100px;-->
    <!--}-->
    <!--</style>-->

    <!--<script>-->
    <!--let map-->

    <!--function initMap(){-->
    <!--  geocoder = new google.maps.Geocoder()-->
    <!--  map = new google.maps.Map(document.getElementById('map'), {-->
    <!--    center: {lat:34.9218969, lng:139.12026},-->
    <!--    zoom: 8,-->
    <!--  });-->
    <!--}-->

    <!--let geocoder-->

    <!--function codeAddress(){-->
    <!--  let inputAddress = document.getElementById('address').value;-->

    <!--  geocoder.geocode( { 'address': inputAddress}, function(results, status) {-->
    <!--    if (status == 'OK') {-->
    <!--      map.setCenter(results[0].geometry.location);-->
    <!--      var marker = new google.maps.Marker({-->
    <!--          map: map,-->
    <!--          position: results[0].geometry.location-->
    <!--      });-->
    <!--      display.textContent = "検索結果：" + results[ 0 ].geometry.location-->
    <!--      alert('検索結果が見つかりました');-->
    <!--    } else {-->
    <!--      alert('該当する結果がありませんでした：' + status);-->
    <!--    }-->
    <!--  });-->
    <!--}-->
    <!--</script>-->
    <!--<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['API_KEY']%>&callback=initMap" async defer></script>-->
  </div>
</div>